{# /templates/annotation/index.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Analyse pairs{% endblock %}

{% block body %}

<div class="row vspace3">
    {% if position == "left" %}
        {%  include 'annotation/preview.html.twig' %}
        <script>
            var left = true;
        </script>
    {% endif %}

    <div id="annotation-panel" class="col-md-8">
        <div id="segment_one" class="segment">
            <b>Segment 1:</b> {{ segment.source }}
        </div>
        <div id="segment_two" class="segment" style="margin-bottom: 1em;">
            <b>Segment 2:</b> {{ segment.target }}
        </div>

        {%  include 'annotation/annotation_panel.html.twig' %}

        <div id="submit-panel" class="text-center">
            <button id="btn-save" type="button" class="btn btn-primary">Save</button>
            {% if segment.prev %}
            <a href="{{ path('annotation', {'id': segment.prev}) }}">
                <button type="button" class="btn btn-primary left-margin-1em">Previous</button>
            </a>
            {% else %}
                <button type="button" class="btn btn-primary left-margin-1em" disabled>Previous</button>
            {% endif %}

            {% if segment.next %}
            <a href="{{ path('annotation', {'id': segment.next}) }}">
                <button type="button" class="btn btn-primary left-margin-1em">Next</button>
            </a>
            {% else %}
                <button type="button" class="btn btn-primary left-margin-1em" disabled>Next</button>
            {% endif %}
        </div>
    </div>

    {% if position == "right" %}
        {%  include 'annotation/preview.html.twig' %}
        <script>
            var left = false;
        </script>
    {% endif %}
</div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        let answers = {};
        answers["user"] = {{ user.id }};
        answers["segment"] = {{ segment.id }};
    </script>
    <script src="{{ asset('js/annotation.js') }}"></script>
{% endblock %}
